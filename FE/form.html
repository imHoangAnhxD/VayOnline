<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/form.css" />
    <title>Vay Online</title>
    <script src="js/form.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <div class="contain-header">
        <div class="header">
            <div class="logo">
                <img src="img/logo.png">
            </div>
            <div class="headertext"> ĐĂNG KÝ TRỰC TUYẾN</div>
            <div class="tabtext"> Trang chủ</div>
            <div class="tabtext"> Ngân hàng điện tử</div>
            <div class="tabtext"> Vay online</div>
            <div class="tabtext"> Mua bán ngoại tệ</div>
            <div class="tabtext"> Thẻ</div>
            <div class="tabtext"> Sản phẩm khác</div>
        </div>
        <div class="bg-text">Vay Online</div>
        <div class="bg-text-2">Thu tục nhanh chóng - Tiện lợi</div>
    </div>
    <div class="contain-form">
        <div id="myForm" class="form-group">
            <h1 class="title-form">FORM ĐĂNG KÝ</h1>


            <div class="col">
                <div class="num">1</div>
                <diV class="col-txt">Thông tin cá nhân :</diV>
            </div>
            <div class="canhan">
                <div class="title-lable">
                    <h1>Họ và tên:</h1>
                    <h1>CMND:</h1>
                    <h1 style="margin-bottom: 5.4vw">Địa chỉ:</h1>
                    <h1>Số điện thoại:</h1>
                    <h1 style="margin-bottom: 1vw;">Email:</h1>
                    <h1>Nghề nghiệp:</h1>
                </div>
                <div class="input-form">
                    <input type="text" id="hoten" required onblur="normalizeName()"><br>


                    <input type="text" id="cmnd" required><br>

                    <label for="tinhthanh">Tỉnh thành:</label>
                    <select style="margin-bottom: 1vw;" id="tinhthanh" onchange="updateQuanHuyenOptions()">
                        <option value="">Chọn tỉnh thành</option>
                        <!-- Tùy chọn sẽ được thêm thông qua JavaScript -->
                    </select>
                    <br>
                    <label for="quanhuyen">Quận huyện:</label>
                    <select style="margin-bottom: 1vw;" id="quanhuyen">
                        <option value="">Chọn quận huyện</option>
                    </select>



                    <input type="text" id="diachi" required><br>


                    <input type="text" id="tel" required><br>


                    <input type="text" id="email" required><br>



                    <select style="margin-bottom: 1vw;" id="nghenghiep">
                       
                        <!-- Thêm các tùy chọn khác -->
                    </select>
                </div>
            </div>


            <label for="thunhap">Thu nhập:</label>
            <select style="margin-left:3.2vw" id="thunhap" required>
                <!-- Options will be populated dynamically by JavaScript -->
            </select><br>
            <div class="col">
                <div class="num">2</div>
                <diV class="col-txt">Thông tin đăng ký dịch vụ : </diV>
            </div>
            <label for="sanphamchovay">Sản phẩm vay:</label>
            <select style="    margin-left: 0.8vw; margin-bottom: 1vw;" id="sanphamchovay" required>
               
            </select><br>
            <label for="tienvay">Tiền vay:</label>
            <input style=" margin-left:3.1vw;" type="text" id="tienvay" required><br>
            <div class="col">
                <div class="num">3</div>
                <diV class="col-txt">Thông tin khác :</diV>
            </div>
            <label for="chinhanh">Chi nhánh:</label>

            <select style="margin-left: 2.6vw; margin-bottom: 1vw;" id="chinhanh" required>
               
                <!-- Add more options as needed -->
            </select><br>

            <label for="kenhvay">Kênh vay:</label>

            <select style="margin-left:3.04vw;" id="kenhvay" required>
              
                <!-- Add more options as needed -->
            </select><br>
            <label for="agreeCheckbox">
                <input style="width: 1vw; height: 0.7vw;;" type="checkbox" id="agreeCheckbox" required>
                Tôi đồng ý với các
                <a
                    href="https://bidv.com.vn/wps/wcm/connect/0cacdd82-b3ee-4489-835d-0aa38a304099/Ban_dieu_kien_dieu_khoan+the+GNQTDN_Final.pdf?MOD=AJPERES&CVID=n46gujc">điều
                    khoản của BIDV</a>
            </label>
            <br>
            <button onclick="addClient()">Gửi đăng ký</button>
            <span id="error-message" style="color: red;"></span>

        </div>
    </div>
    <script>
        $(document).ready(function () {
            $.ajax({
                url: "https://vapi.vnappmob.com/api/province",
                method: "GET",
                dataType: "json",
                success: function (response) {
                    var tinhThanhOptions = $("#tinhthanh");

                    response.results.forEach(function (tinhThanh) {
                        var option = $("<option>").val(tinhThanh.province_id).text(tinhThanh.province_name);
                        tinhThanhOptions.append(option);
                    });
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        });


        function updateQuanHuyenOptions() {
            var selectedTinhThanh = $("#tinhthanh").val();
            var quanHuyenOptions = $("#quanhuyen");

            // Xóa tất cả các tùy chọn quận huyện hiện có
            quanHuyenOptions.empty();

            // Kiểm tra nếu tỉnh thành đã được chọn
            if (selectedTinhThanh) {
                // Gửi yêu cầu GET đến API của VOD để lấy danh sách quận huyện
                $.ajax({
                    url: "https://vapi.vnappmob.com/api/province/district/" + selectedTinhThanh,
                    method: "GET",
                    dataType: "json",
                    success: function (response) {
                        response.results.forEach(function (quanHuyen) {
                            var option = $("<option>").val(quanHuyen.district_id).text(quanHuyen.district_name);
                            quanHuyenOptions.append(option);
                        });
                    },
                    error: function (xhr, status, error) {
                        console.log(error);
                    }
                });
            }
        }

        var selectedTinhThanh = $("#tinhthanh").val();
        var quanHuyenOptions = $("#quanhuyen");

        // Xóa tất cả các tùy chọn quận huyện hiện có
        quanHuyenOptions.empty();

        // Kiểm tra nếu tỉnh thành đã được chọn
        if (selectedTinhThanh) {
            // Lấy danh sách quận huyện từ GeoNames
            $.ajax({
                url: "http://api.geonames.org/childrenJSON?geonameId=" + selectedTinhThanh + "&username=demo",
                method: "GET",
                dataType: "json",
                success: function (response) {
                    response.geonames.forEach(function (quanHuyen) {
                        var option = $("<option>").val(quanHuyen.geonameId).text(quanHuyen.name);
                        quanHuyenOptions.append(option);
                    });
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }

    </script>
   
</body>



</html>